{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/macone/Development/portfolioProyects/UberEats/UberEats_HotZones/App.js\";\nimport React from 'react';\nimport { Container, Header, Item, Input, Icon, Button, Text, Spinner } from 'native-base';\nimport MapView from 'react-native-maps';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nexport default function App() {\n  var _this = this;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      _onChangeText = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lat = _React$useState4[0],\n      setLat = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      lon = _React$useState6[0],\n      setLon = _React$useState6[1];\n\n  var _React$useState7 = React.useState('#ffffff3a'),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      busyColor = _React$useState8[0],\n      setBusyColor = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      modalVisible = _React$useState10[0],\n      setModalVisible = _React$useState10[1];\n\n  var localHost = \"192.168.1.151\";\n\n  handleFetch = function handleFetch() {\n    setModalVisible(true);\n    var data = {\n      location: value\n    };\n    var options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(\"http://\" + localHost + \":3000/api\", options).then(function (resp) {\n      return resp.json();\n    }).then(function (data) {\n      (function () {\n        return setLat(parseFloat(data.lat));\n      });\n\n      setLon(parseFloat(data.lon));\n      var numbers = data.response.map(function (num) {\n        return parseInt(num.bussynessPercentage.replace(/[^a-zA-Z0-9 ]/g, \"\"));\n      });\n      var removeNaN = numbers.filter(function (value) {\n        return !Number.isNaN(value);\n      });\n      var total = removeNaN.reduce(function (a, b) {\n        return a + b;\n      }) / removeNaN.length;\n\n      if (total > 10 && total < 35) {\n        setBusyColor('#02bd0c2a');\n      } else if (total > 36 && total < 65) {\n        setBusyColor('#e7d42d4f');\n      } else {\n        setBusyColor('#fc000046');\n      }\n\n      console.log(\"received.\");\n    }).catch(function (err) {\n      console.log(\"Error Reading data \" + err);\n    });\n    setModalVisible(false);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    }\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    }\n  }, React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    }\n  }, React.createElement(View, {\n    style: styles.centeredView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    }\n  }, React.createElement(Spinner, {\n    style: styles.modalText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    }\n  }))), React.createElement(Header, {\n    searchBar: true,\n    rounded: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    }\n  }, React.createElement(Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    }\n  }, React.createElement(Icon, {\n    name: \"ios-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    }\n  }), React.createElement(Input, {\n    placeholder: \"Search\",\n    onChangeText: function onChangeText(text) {\n      return _onChangeText(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    }\n  })), React.createElement(Button, {\n    onPress: function onPress() {\n      return _this.handleFetch();\n    },\n    transparent: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    }\n  }, \"Search\"))), lat == 0 && lon == 0 ? React.createElement(MapView, {\n    style: {\n      flex: 1\n    },\n    showsCompass: true,\n    zoomControlEnabled: true,\n    showsTraffic: true,\n    loadingEnabled: true,\n    showsUserLocation: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    }\n  }) : React.createElement(MapView, {\n    style: {\n      flex: 1\n    },\n    region: {\n      latitude: lat,\n      longitude: lon,\n      latitudeDelta: 0.0143,\n      longitudeDelta: 0.0134\n    },\n    showsCompass: true,\n    zoomControlEnabled: true,\n    showsTraffic: true,\n    loadingEnabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    }\n  }, React.createElement(MapView.Circle, {\n    center: {\n      latitude: lat,\n      longitude: lon\n    },\n    radius: 600,\n    strokeWidth: 3,\n    strokeColor: busyColor,\n    fillColor: busyColor,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#F194FF\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/macone/Development/portfolioProyects/UberEats/UberEats_HotZones/App.js"],"names":["React","Container","Header","Item","Input","Icon","Button","Text","Spinner","MapView","App","useState","value","onChangeText","lat","setLat","lon","setLon","busyColor","setBusyColor","modalVisible","setModalVisible","localHost","handleFetch","data","location","options","method","headers","body","JSON","stringify","fetch","then","resp","json","parseFloat","numbers","response","map","num","parseInt","bussynessPercentage","replace","removeNaN","filter","Number","isNaN","total","reduce","a","b","length","console","log","catch","err","flex","styles","centeredView","modalText","text","latitude","longitude","latitudeDelta","longitudeDelta","StyleSheet","create","justifyContent","alignItems","marginTop","modalView","margin","backgroundColor","borderRadius","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","openButton","textStyle","color","fontWeight","textAlign","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Header, Item, Input, Icon, Button, Text, Spinner } from 'native-base';\nimport MapView from'react-native-maps';\n\n\nimport {\n  SafeAreaView,\n  Modal,\n  View,\n  StyleSheet\n       }\nfrom 'react-native';\n\n\nexport default function App() {\n  //using Hooks To set input text \n  const [value, onChangeText] = React.useState('');\n  const [lat, setLat] = React.useState(0)\n  const [lon, setLon] = React.useState(0)\n  const [busyColor, setBusyColor] = React.useState('#ffffff3a')\n  const [modalVisible, setModalVisible] = React.useState(false);\n  \n  const localHost = \"192.168.1.151\"\n\n  handleFetch=()=>{\n    setModalVisible(true)\n    const data = { location: value}\n    const options = {\n      method: 'POST',\n      headers : { \n        'Content-Type': 'application/json',\n       },\n      body: JSON.stringify(data),\n    }\n    fetch(`http://${localHost}:3000/api`, options)\n    .then(resp=>resp.json())\n    .then(data=>{()=>\n     \n      // Alert.alert(\n      //   'TEST',\n      //   'Information Collected',\n      //   [\n      //     {text: 'OK', onPress: () =>console.log(\"ok pressed\") },\n      //   ]\n      // );\n      \n      // console.log(data)\n      setLat(parseFloat(data.lat))\n      setLon(parseFloat(data.lon))\n\n      let numbers = data.response.map(num => parseInt(num.bussynessPercentage.replace(/[^a-zA-Z0-9 ]/g, \"\")))\n      let removeNaN = numbers.filter(value => {\n        return !Number.isNaN(value);\n        })\n      let total = removeNaN.reduce((a, b) => a + b) / removeNaN.length\n      \n      // console.log(\"array of numbers \" + numbers)\n      // console.log(\"array of numbers to removed \" + removeNaN)\n      // console.log(\"total % \" + total)\n\n      // Radious color key.\n      if(total > 10 && total <35){\n        setBusyColor('#02bd0c2a')\n      }else if(total > 36 && total < 65){\n        setBusyColor('#e7d42d4f')    \n      }else{\n        setBusyColor('#fc000046')\n      }\n      console.log(\"received.\")\n      \n    }).catch(err => {\n      // Error handling\n      console.log(\"Error Reading data \" + err);\n    });\n    setModalVisible(false)\n  }\n \n  return (\n\n    <SafeAreaView style={{flex: 1}}>\n       <Container>\n       <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisible}>\n\n          <View style={styles.centeredView}>\n          <Spinner style={styles.modalText}/>\n        </View>\n        </Modal>\n        \n        <Header searchBar rounded>\n          <Item>\n            <Icon name=\"ios-search\" />\n            <Input placeholder=\"Search\" onChangeText={text => onChangeText(text)} />\n          </Item>\n          <Button onPress={()=>this.handleFetch()} transparent>\n            <Text>Search</Text>\n          </Button>\n        </Header>\n        {\n      lat == 0 && lon == 0 \n      ?\n      <MapView style={{flex: 1}}\n            showsCompass={true}\n            zoomControlEnabled={true}\n            showsTraffic={true}\n            loadingEnabled={true} \n            showsUserLocation={true}>    \n      </MapView> \n      \n      :\n      <MapView \n      style={{flex: 1}}\n          region={{\n            latitude: lat,\n            longitude: lon,\n            latitudeDelta: 0.0143,\n            longitudeDelta: 0.0134\n          }}\n          showsCompass={true}\n          zoomControlEnabled={true}\n          showsTraffic={true}\n          loadingEnabled={true}\n    > \n  <MapView.Circle\n      center={{\n        latitude: lat,\n        longitude: lon,\n      }}\n      radius={600}\n      strokeWidth={3}\n      strokeColor = {busyColor}\n      fillColor={busyColor}\n    />  \n  </MapView> \n  }\n      </Container>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#F194FF\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\n"]},"metadata":{},"sourceType":"module"}